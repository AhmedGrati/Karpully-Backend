SELECT "carpool"."createdAt" AS "carpool_createdAt", "carpool"."updatedAt" AS "carpool_updatedAt", "carpool"."deletedAt" AS "carpool_deletedAt", "carpool"."id" AS "carpool_id", "carpool"."departureDate" AS "carpool_departureDate", "carpool"."nbrOfAvailablePlaces" AS "carpool_nbrOfAvailablePlaces", "carpool"."description" AS "carpool_description", "carpool"."hasSmokePermission" AS "carpool_hasSmokePermission", "carpool"."departureLocationId" AS "carpool_departureLocationId", "carpool"."destinationLocationId" AS "carpool_destinationLocationId", "carpool"."ownerId" AS "carpool_ownerId", "location"."id" AS "location_id", "location"."place_id" AS "location_place_id", "location"."licence" AS "location_licence", "location"."osm_type" AS "location_osm_type", "location"."osm_id" AS "location_osm_id", "location"."boundingbox" AS "location_boundingbox", "location"."lat" AS "location_lat", "location"."lon" AS "location_lon", "location"."display_name" AS "location_display_name", "location"."class" AS "location_class", "location"."type" AS "location_type", "location"."importance" AS "location_importance", "location"."icon" AS "location_icon", "location"."visited" AS "location_visited", "location"."addressID" AS "location_addressID", "user"."createdAt" AS "user_createdAt", "user"."updatedAt" AS "user_updatedAt", "user"."deletedAt" AS "user_deletedAt", "user"."id" AS "user_id", "user"."username" AS "user_username", "user"."firstname" AS "user_firstname", "user"."lastname" AS "user_lastname", "user"."completedSignUp" AS "user_completedSignUp", "user"."age" AS "user_age", "user"."rate" AS "user_rate", "user"."email" AS "user_email", "user"."salt" AS "user_salt", "user"."localization" AS "user_localization", "user"."telNumber" AS "user_telNumber", "user"."password" AS "user_password", "user"."authorities" AS "user_authorities", "user"."roles" AS "user_roles", "user"."gender" AS "user_gender", "user"."lowerCasedUsername" AS "user_lowerCasedUsername", "user"."isConfirmed" AS "user_isConfirmed", "user"."profileImageId" AS "user_profileImageId" FROM "carpool" "carpool" LEFT JOIN "location" "location" ON "location"."id"="carpool"."departureLocationId"  LEFT JOIN "user" "user" ON "user"."id"="carpool"."ownerId" AND ("user"."deletedAt" IS NULL) WHERE ( departureLocation.lon >= $1 AND departureLocation.lon <= $2 AND departureLocation.lat >= $3 AND departureLocation.lat <= $4 ) AND ( "carpool"."deletedAt" IS NULL )
